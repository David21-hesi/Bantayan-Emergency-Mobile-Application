<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="BantayanEmergencyApp.GuestSendReportPage"
             Title="Emergency"
             BackgroundColor="#0D1B2A">
    <ContentPage.Resources>
        <!-- Define reusable styles -->
        <ResourceDictionary>
            <Style x:Key="FrameStyle" TargetType="Frame">
                <Setter Property="BackgroundColor" Value="#1B263B" />
                <Setter Property="CornerRadius" Value="16" />
                <Setter Property="HasShadow" Value="True" />
                <Setter Property="BorderColor" Value="#FF3B30" />
                <Setter Property="Padding" Value="15" />
            </Style>
            <Style x:Key="LabelHeaderStyle" TargetType="Label">
                <Setter Property="FontSize" Value="20" />
                <Setter Property="FontAttributes" Value="Bold" />
                <Setter Property="TextColor" Value="#FFFFFF" />
            </Style>
            <Style x:Key="PickerStyle" TargetType="Picker">
                <Setter Property="TextColor" Value="#FFFFFF" />
                <Setter Property="TitleColor" Value="#A6B1C9" />
                <Setter Property="BackgroundColor" Value="#1B263B" />
                <Setter Property="FontSize" Value="16" />
                <Setter Property="HeightRequest" Value="48" />
            </Style>
            <Style x:Key="ButtonStyle" TargetType="Button">
                <Setter Property="TextColor" Value="#FFFFFF" />
                <Setter Property="FontSize" Value="14" />
                <Setter Property="FontAttributes" Value="Bold" />
                <Setter Property="CornerRadius" Value="10" />
                <Setter Property="HeightRequest" Value="44" />
            </Style>
            <Style x:Key="EditorStyle" TargetType="Editor">
                <Setter Property="TextColor" Value="#FFFFFF" />
                <Setter Property="BackgroundColor" Value="#1B263B" />
                <Setter Property="PlaceholderColor" Value="#A6B1C9" />
                <Setter Property="FontSize" Value="16" />
                <Setter Property="HeightRequest" Value="140" />
            </Style>
        </ResourceDictionary>
    </ContentPage.Resources>

    <ScrollView>
        <StackLayout Padding="20" Spacing="20" BackgroundColor="#0D1B2A">
            <!-- Header -->
            <Frame Style="{StaticResource FrameStyle}">
                <StackLayout Orientation="Horizontal" HorizontalOptions="CenterAndExpand">
                    <Image Source="siren.png" HeightRequest="24" WidthRequest="24" VerticalOptions="Center" />
                    <Label Text="Send Emergency Alert" Style="{StaticResource LabelHeaderStyle}" VerticalOptions="Center" Margin="8,0,0,0" />
                </StackLayout>
            </Frame>

            <!-- Incident Type -->
            <Frame Style="{StaticResource FrameStyle}">
                <StackLayout Spacing="10">
                    <Label Text="Incident Type" Style="{StaticResource LabelHeaderStyle}" />
                    <Picker x:Name="IncidentPicker"
                            Style="{StaticResource PickerStyle}"
                            Title="Select Incident">
                        <Picker.Items>
                            <x:String>Fire</x:String>
                            <x:String>Medical Emergency</x:String>
                            <x:String>Crime</x:String>
                            <x:String>Power Outage</x:String>
                        </Picker.Items>
                    </Picker>
                </StackLayout>
            </Frame>

            <!-- Authority Selection -->
            <Frame Style="{StaticResource FrameStyle}">
                <StackLayout Spacing="10">
                    <Label Text="Notify Authority" Style="{StaticResource LabelHeaderStyle}" />
                    <Picker x:Name="AuthorityPicker"
                            Style="{StaticResource PickerStyle}"
                            Title="Select Authority">
                        <Picker.Items>
                            <x:String>Police</x:String>
                            <x:String>Fire Department</x:String>
                            <x:String>Medical Team</x:String>
                            <x:String>Banelco</x:String>
                            <x:String>All Authorities</x:String>
                        </Picker.Items>
                    </Picker>
                </StackLayout>
            </Frame>

            <!-- Location -->
            <Frame Style="{StaticResource FrameStyle}">
                <StackLayout Spacing="10">
                    <Label Text="Incident Location" Style="{StaticResource LabelHeaderStyle}" />
                    <Picker x:Name="LocationPicker"
                            Style="{StaticResource PickerStyle}"
                            Title="Select Location">
                        <Picker.Items>
                            <x:String>Atop-Atop</x:String>
                            <x:String>Baigad</x:String>
                            <x:String>Bantigue</x:String>
                            <x:String>Baod</x:String>
                            <x:String>Binaobao</x:String>
                            <x:String>Botigues</x:String>
                            <x:String>Doong</x:String>
                            <x:String>Guiwanon</x:String>
                            <x:String>Hilotongan</x:String>
                            <x:String>Kabac</x:String>
                            <x:String>Kabangbang</x:String>
                            <x:String>Kampingganon</x:String>
                            <x:String>Kangkaibe</x:String>
                            <x:String>Lipayran</x:String>
                            <x:String>LuyongBayBay</x:String>
                            <x:String>Mojon</x:String>
                            <x:String>Oboob</x:String>
                            <x:String>Patao</x:String>
                            <x:String>Putian</x:String>
                            <x:String>Sillion</x:String>
                            <x:String>Suba</x:String>
                            <x:String>Sulangan</x:String>
                            <x:String>Sungko</x:String>
                            <x:String>Tamiao</x:String>
                            <x:String>Ticad</x:String>
                        </Picker.Items>
                    </Picker>
                </StackLayout>
            </Frame>

            <!-- Contact Number -->
            <Frame Style="{StaticResource FrameStyle}">
                <StackLayout Spacing="10">
                    <Label Text="Contact Number" Style="{StaticResource LabelHeaderStyle}" />
                    <Entry x:Name="ContactNumberEntry"
               Placeholder="Enter your Contact Number"
               TextColor="#FFFFFF"
               BackgroundColor="#1B263B"
               FontSize="16"
               PlaceholderColor="#A6B1C9"
               HeightRequest="40" />
                </StackLayout>
            </Frame>


            <!-- Description -->
            <Frame Style="{StaticResource FrameStyle}">
                <StackLayout Spacing="10">
                    <Label Text="Incident Details" Style="{StaticResource LabelHeaderStyle}" />
                    <Editor x:Name="IncidentDescription"
                            Placeholder="Provide critical details..."
                            Style="{StaticResource EditorStyle}" />
                </StackLayout>
            </Frame>

            <!-- Image Upload -->
            <Frame Style="{StaticResource FrameStyle}">
                <StackLayout Spacing="10">
                    <Label Text="Emergency Evidence" Style="{StaticResource LabelHeaderStyle}" />
                    <ImageButton x:Name="validIdImage"
                                 Source="camera_emergency.png"
                                 HeightRequest="180"
                                 WidthRequest="180"
                                 CornerRadius="12"
                                 BackgroundColor="#1B263B"
                                 Clicked="validIdImage_Clicked"
                                 BorderColor="#FF3B30"
                                 BorderWidth="2" />
                </StackLayout>
            </Frame>

            <!-- Action Button -->
            <Button Text="Send Emergency Report"
        BackgroundColor="#FF3B30"
        Style="{StaticResource ButtonStyle}"
        Clicked="SubmitEmergencyReport"
        HorizontalOptions="FillAndExpand"
        Margin="0,10,0,20" />

        </StackLayout>
    </ScrollView>
</ContentPage>